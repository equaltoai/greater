---
import MainLayout from '../../layouts/MainLayout.astro';
import HashtagTimeline from '../../components/islands/svelte/HashtagTimeline.svelte';

const isAuthenticated = Astro.cookies.get('auth_session')?.value;

if (!isAuthenticated) {
  return Astro.redirect('/auth/login');
}

const { tag } = Astro.params;
---

<MainLayout title={`#${tag}`}>
  <div class="max-w-2xl mx-auto">
    <header class="mb-6 bg-white dark:bg-gray-800 rounded-lg p-4">
      <h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        #{tag}
      </h1>
    </header>
    
    <HashtagTimeline client:load hashtag={tag} />
  </div>
</MainLayout>